(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{296:function(t,s,a){t.exports=a.p+"assets/img/1677589785791.5be7ac49.png"},297:function(t,s,a){t.exports=a.p+"assets/img/animate.c506839f.gif"},298:function(t,s){t.exports="data:image/png;base64,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"},299:function(t,s,a){t.exports=a.p+"assets/img/animate-1677677631515.d3e3cbfa.gif"},300:function(t,s,a){t.exports=a.p+"assets/img/animate-1677679212081.3e1e4a4e.gif"},349:function(t,s,a){"use strict";a.r(s);var n=a(8),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("custom-header"),t._v(" "),s("h2",{attrs:{id:"静态数据结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#静态数据结构"}},[t._v("#")]),t._v(" 静态数据结构")]),t._v(" "),s("p",[t._v("每个 Fiber 节点对应一个组件，保存了该组件的类型，对应的 DOM 节点的对应信息。")]),t._v(" "),s("p",[t._v("FiberRootNode 有且仅有一个，而 rootFiber 可以有多个，因为我们可以挂载多个应用（也就是多次调用"),s("code",[t._v("ReactDOM.render")]),t._v("）")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setAge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      chenjiang\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("最终形成数据结构如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:a(296),alt:"1677589785791"}})]),t._v(" "),s("h3",{attrs:{id:"fiber-的数据结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiber-的数据结构"}},[t._v("#")]),t._v(" Fiber 的数据结构")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("FiberNode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("tag")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" WorkTag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("pendingProps")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" mixed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("key")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" string"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" TypeOfMode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Instance")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件的类型 FunctionComponent、classComponent、HostComponent（指的是DOM节点对应的Fiber节点）")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" tag"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 大多数情况下于tag相同，使用React.memo包裹时候，elementType和tag不同")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elementType "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对于FunctionComponent，指函数本身")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对于ClassComponent，指class")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对于HostComponet，指的是DOM节点tagName")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对于HostComponent来说指的是对应的真实的DOM节点")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stateNode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 以下属性用于连接其他Fiber节点形成Fiber树。")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指向父fiber节点")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("return "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指向第一个子fiber节点")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("child "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指向第一个兄弟fiber节点")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sibling "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ref属性")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ref "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 新传入的 props")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pendingProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pendingProps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 之前的 props")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("memoizedProps "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 更新队列，用于暂存 setState 的值")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("updateQueue "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 之前的 state")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("memoizedState "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dependencies "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("mode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" mode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 保存本次更新会造成的DOM操作。比如删除，移动")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("flags "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoFlags"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("nextEffect "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstEffect "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lastEffect "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childLanes "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" NoLanes"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//用于链接新树和旧树；旧->新，新->旧")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alternate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"动态的工作单元"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#动态的工作单元"}},[t._v("#")]),t._v(" 动态的工作单元")]),t._v(" "),s("p",[t._v("Fiber 可以理解成一个工作单元，每次执行完一个工作单元，react 就会检查还剩余多少时间，如果没有就把控制权交还给浏览器。React Fiber 与浏览器的核心交互过程如下：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/78a602cbc87342628ace49abb5d20c39~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp",alt:"undefined"}})]),t._v(" "),s("p",[t._v("首先 React 向浏览器请求调度，浏览器在一帧中如果还有空闲时间，会去判断是否存在待执行任务，不存在就直接将控制权交给浏览器，如果存在就会执行对应的任务，执行完成后会判断是否还有时间，有时间且有待执行任务则会继续执行下一个任务，否则就会将控制权交给浏览器。")]),t._v(" "),s("p",[t._v("Fiber 可以被理解为划分一个个更小的工作单元，它是把一个大任务拆分为了很多个小块任务，一个小块任务的执行必须是一次完成的，不能出现暂停，但是一个小块任务执行完后可以移交控制权给浏览器去响应用户，从而不用等待大任务一直执行完成再去响应用户。")]),t._v(" "),s("h2",{attrs:{id:"架构-双缓存工作机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#架构-双缓存工作机制"}},[t._v("#")]),t._v(" 架构（双缓存工作机制）")]),t._v(" "),s("h3",{attrs:{id:"什么是双缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#什么是双缓存"}},[t._v("#")]),t._v(" 什么是双缓存")]),t._v(" "),s("p",[t._v("当我们用"),s("code",[t._v("canvas")]),t._v("绘制动画，每一帧绘制前都会调用"),s("code",[t._v("ctx.clearRect")]),t._v("清除上一帧的画面。如果当前帧画面计算量比较大，导致清除上一帧画面到绘制当前帧画面之间有较长间隙，就会出现白屏闪烁。")]),t._v(" "),s("p",[t._v("为了解决这个问题，我们可以在"),s("code",[t._v("内存中")]),t._v("绘制当前帧动画，绘制完毕后直接用当前帧替换上一帧画面，由于省去了两帧替换间的计算时间，不会出现从白屏到出现画面的闪烁情况。")]),t._v(" "),s("p",[t._v("这种"),s("strong",[t._v("在内存中构建并直接替换")]),t._v("的技术叫做"),s("a",{attrs:{href:"https://link.juejin.cn?target=https%3A%2F%2Fbaike.baidu.com%2Fitem%2F%E5%8F%8C%E7%BC%93%E5%86%B2",target:"_blank",rel:"noopener noreferrer"}},[t._v("双缓存"),s("OutboundLink")],1),t._v("。")]),t._v(" "),s("p",[s("code",[t._v("React")]),t._v("使用“双缓存”来完成"),s("code",[t._v("Fiber树")]),t._v("的构建与替换——对应着"),s("code",[t._v("DOM树")]),t._v("的创建与更新。")]),t._v(" "),s("h3",{attrs:{id:"双缓存-fiber-树"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#双缓存-fiber-树"}},[t._v("#")]),t._v(" 双缓存 Fiber 树")]),t._v(" "),s("p",[t._v("React 中存在两棵树，一颗为"),s("code",[t._v("current Fiber tree")]),t._v("，另外一颗为"),s("code",[t._v("workInProgress Fiber tree")]),t._v("。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("current Fiber tree")]),t._v("也就是当前页面中显示内容对应的 Fiber 树，每个 Fiber 节点成为 current fiber。")]),t._v(" "),s("li",[s("code",[t._v("workInProgress Fiber tree")]),t._v("正在内存中构建的 Fiber 树。")])]),t._v(" "),s("p",[t._v("两颗树的 fiber 节点是通过"),s("code",[t._v("alternate")]),t._v("属性进行连接的。")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("currentFiber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alternate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" workInProgressFiber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nworkInProgressFiber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("alternate "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" currentFiber"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("React 的根节点（FiberRootNode）通过 current 指针在不同的 Fiber 树的 rootFiber 间切换来实现 Fiber 树的切换。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(297),alt:"动画"}})]),t._v(" "),s("h4",{attrs:{id:"fiber-树的构建-挂载阶段、更新阶段"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fiber-树的构建-挂载阶段、更新阶段"}},[t._v("#")]),t._v(" Fiber 树的构建（挂载阶段、更新阶段）")]),t._v(" "),s("p",[t._v("再次强调：FiberRootNode 有且仅有一个，而 rootFiber 可以有多个，因为我们可以挂载多个应用（也就是多次调用"),s("code",[t._v("ReactDOM.render")]),t._v("）")]),t._v(" "),s("p",[t._v("以下代码为例：")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("App")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" setAge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("useState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div\n      onClick"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setAge")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("25")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nReactDOM"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("App "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" document"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"root"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("strong",[t._v("挂载阶段（mount 阶段）")])]),t._v(" "),s("p",[t._v("当"),s("code",[t._v("首次调用ReactDOM.render")]),t._v("就会创建"),s("code",[t._v("FiberRootNode")]),t._v("，每次调用"),s("code",[t._v("ReactDOM.render")]),t._v("就会创建当前应用的根节点"),s("code",[t._v("RootFiber")]),t._v("，由于在首屏渲染之前页面是空白的，因此"),s("code",[t._v("RootFiber")]),t._v("不存在子节点。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(298),alt:"1677676221915"}})]),t._v(" "),s("p",[s("strong",[t._v("挂载阶段流程如下（首屏渲染）")])]),t._v(" "),s("p",[t._v("首先创建 fiber 树的根节点"),s("code",[t._v("RootFiber")]),t._v("，在两棵树之间都存在的 Fiber 节点用"),s("code",[t._v("alternate")]),t._v("连接，接下来采用深度遍历的方式创建 Fiber 树，当"),s("code",[t._v("workInProgress Fiber tree")]),t._v("完成了渲染，最后 FiberRootNode 的 current 指针就指向"),s("code",[t._v("workInProgress Fiber tree")]),t._v("的根节点，此时就变成"),s("code",[t._v("current Fiber tree")]),t._v("。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(299),alt:"animate"}})]),t._v(" "),s("p",[s("strong",[t._v("更新阶段 （update 阶段）")])]),t._v(" "),s("p",[t._v("每次触发更新都会重新创建一颗"),s("code",[t._v("workInProgress Fiber Tree")]),t._v("，"),s("code",[t._v("current Fiber")]),t._v("与本次更新返回的"),s("code",[t._v("JSX")]),t._v("做对比，生成"),s("code",[t._v("workInProgress Fiber")]),t._v("的过程就是 diff 算法，update 阶段与 mount 阶段，最大的区别就是是否有 diff 算法。")]),t._v(" "),s("p",[s("img",{attrs:{src:a(300),alt:"animate"}})]),t._v(" "),s("p",[t._v("参考文章：")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://juejin.cn/post/6844904202104209415",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.cn/post/6844904202104209415"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.cn/post/6943896410987659277",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://juejin.cn/post/6943896410987659277"),s("OutboundLink")],1)])])],1)}),[],!1,null,null,null);s.default=e.exports}}]);